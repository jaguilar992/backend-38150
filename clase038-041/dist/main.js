(()=>{"use strict";var e={n:n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},d:(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};const n=require("express");var t=e.n(n);const o=require("cors"),r=require("mongoose");var c=e.n(r);const i=new r.Schema({id:{type:Number,required:!0,default:0},name:{type:String,required:!0,default:""},type:{type:String,required:!0,default:""}}),u=(0,r.model)("pokemon",i);const s=(0,n.Router)();s.get("/",((e,n)=>{return t=void 0,o=void 0,c=function*(){const e=yield u.find();n.json({data:e})},new((r=void 0)||(r=Promise))((function(e,n){function i(e){try{s(c.next(e))}catch(e){n(e)}}function u(e){try{s(c.throw(e))}catch(e){n(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,u)}s((c=c.apply(t,o||[])).next())}));var t,o,r,c}));const a=s,d=require("dotenv");e.n(d)().config();const f=process.env.PORT||8080;process.env.BASE_URL;const l=require("pino"),v=e.n(l)()();(function(){return e=this,n=void 0,o=function*(){c().set("strictQuery",!1),yield c().connect("mongodb://localhost:27017/pokemon")},new((t=void 0)||(t=Promise))((function(r,c){function i(e){try{s(o.next(e))}catch(e){c(e)}}function u(e){try{s(o.throw(e))}catch(e){c(e)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,u)}s((o=o.apply(e,n||[])).next())}));var e,n,t,o})().catch((e=>console.log(e)));const p=t()();p.use(t().json()),p.use(t().urlencoded({extended:!0})),p.use(o()),p.get("/",((e,n)=>n.json({time:Date.now()}))),p.use("/api/pokemon",a),p.listen(f,(()=>{v.info(`ğŸ”‹ Server running on port::${f}`)}))})();